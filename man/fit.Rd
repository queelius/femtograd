% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/fit.R
\name{fit}
\alias{fit}
\title{Fit a model via maximum likelihood}
\usage{
fit(loglik, params, method = c("bfgs", "lbfgs", "newton", "gradient"), ...)
}
\arguments{
\item{loglik}{A log-likelihood function. Can be specified in two ways:
\itemize{
\item Named arguments: \code{function(mu, sigma) loglik_normal(mu, sigma, x)}
\item Single parameter argument: \code{function(p) loglik_normal(p$mu, p$sigma, x)}
}
The function should return a scalar value object.}

\item{params}{Named numeric vector of initial parameter values,
e.g., \code{c(mu = 0, sigma = 1)}.}

\item{method}{Optimization method: "bfgs" (default), "lbfgs", "newton", or "gradient".}

\item{...}{Additional arguments passed to the optimizer.}
}
\value{
A \code{femtofit} object containing:
\itemize{
\item Coefficient estimates (accessible via \code{coef()})
\item Variance-covariance matrix (accessible via \code{vcov()})
\item Log-likelihood value (accessible via \code{logLik()})
\item Standard errors, Hessian, convergence info
}
}
\description{
Finds the maximum likelihood estimates of parameters and returns a
fitted model object with standard errors, confidence intervals, and
other inference quantities computed automatically via autodiff.
}
\examples{
\dontrun{
# Generate data
set.seed(42)
x <- rnorm(100, mean = 5, sd = 2)

# Fit using named arguments (recommended)
result <- fit(
  function(mu, sigma) loglik_normal(mu, sigma, x),
  params = c(mu = 0, sigma = 1)
)

# Or using single parameter argument
result <- fit(
  function(p) loglik_normal(p$mu, p$sigma, x),
  params = c(mu = 0, sigma = 1)
)

# Standard R generics work
coef(result)      # Parameter estimates
vcov(result)      # Variance-covariance matrix
confint(result)   # 95\% confidence intervals
logLik(result)    # Log-likelihood (works with AIC/BIC)
AIC(result)       # Akaike information criterion
summary(result)   # Full summary with p-values
}

}
