% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/diagnostics.R
\name{check_hessian}
\alias{check_hessian}
\title{Check Hessian properties}
\usage{
check_hessian(object)
}
\arguments{
\item{object}{A \code{femtofit} object.}
}
\value{
A \code{hessian_check} object containing:
\describe{
\item{is_negative_definite}{Logical: is -H positive definite? (required for MLE)}
\item{eigenvalues}{Eigenvalues of -H (observed information)}
\item{condition_number}{Ratio of largest to smallest eigenvalue}
\item{rank}{Numerical rank of the matrix}
\item{is_singular}{Logical: is the matrix numerically singular?}
\item{warnings}{Character vector of any issues detected}
}
}
\description{
Examines the Hessian matrix for numerical issues that may indicate
problems with the optimization or model specification.
}
\details{
For a proper maximum of the log-likelihood, the Hessian should be
negative definite (equivalently, -H should be positive definite).

Common issues:
\itemize{
\item \strong{Not negative definite}: May indicate a saddle point rather than maximum
\item \strong{High condition number}: Indicates near-singularity, poorly identified parameters
\item \strong{Singular matrix}: Parameters are not identifiable from the data
}
}
\examples{
\dontrun{
set.seed(42)
x <- rnorm(100, mean = 5, sd = 2)

result <- fit(
  function(mu, log_sigma) loglik_normal(mu, exp(log_sigma), x),
  params = c(mu = 0, log_sigma = 0)
)

check <- check_hessian(result)
check

# Access specific properties
check$is_negative_definite
check$condition_number
}

}
